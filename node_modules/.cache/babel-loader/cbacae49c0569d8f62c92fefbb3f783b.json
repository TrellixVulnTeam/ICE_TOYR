{"ast":null,"code":"import _slicedToArray from\"/Users/jman/Developer/ice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{connect,useDispatch}from'react-redux';import{withRouter}from'react-router-dom';import{Formik,Field,Form,ErrorMessage}from'formik';import mapStoreToProps from'../../../redux/mapStoreToProps';import{useEffect,useState}from'react';import NextButton from'../../CustomComponents/NextButton';import Excavating from'../../../a_assets/images/Uncropped_Excavating.png';import Snowblower from'../../../a_assets/images/Uncropped_Snowblower.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TypeService(props){var dispatch=useDispatch();var services=['Snow Removal','Excavating'];var pics=[Snowblower,Excavating];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),isChecked=_useState2[0],setIsChecked=_useState2[1];useEffect(function(){setIsChecked(props.store.customerInfo.service);},[props.store.customerInfo.service]);var sendInfo=function sendInfo(values){var step_number=props.store.quoteProgress.step_number;dispatch({type:'UPDATE_CUSTOMER',payload:values});dispatch({type:'QUOTE_PROGRESS',payload:{divisor:9,step_number:step_number+1}});props.history.push('./sub-service');};return/*#__PURE__*/_jsxs(\"div\",{className:\"quoteStep_container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"quoteStep_container_title\",children:\"What type of service would you like?\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{service:''},validate:function validate(values){var errors={};if(props.store.customerInfo.service){return errors;}if(!values.service){errors.service='Please pick an option';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;if(props.store.customerInfo.service){sendInfo({service:props.store.customerInfo.service},'forward');}else{sendInfo(values);}setSubmitting(false);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_optionsContainer\",role:\"group\",\"aria-labelledby\":\"my-radio-group\",children:services.map(function(s,i){return/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_options\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"quoteStep_label\",children:s}),/*#__PURE__*/_jsx(Field,{type:\"radio\",name:\"service\",value:s,checked:isChecked===s,onClick:function onClick(e){return setIsChecked(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{src:pics[i],alt:s,className:\"quoteStep_label_img\"})]},s)});})}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"service\",component:\"div\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_nextBtn_container\",children:/*#__PURE__*/_jsx(NextButton,{disabled:isSubmitting})})]});}})]});}export default connect(mapStoreToProps)(withRouter(TypeService));","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/components/Quote/1TypeService/1TypeService.js"],"names":["connect","useDispatch","withRouter","Formik","Field","Form","ErrorMessage","mapStoreToProps","useEffect","useState","NextButton","Excavating","Snowblower","TypeService","props","dispatch","services","pics","isChecked","setIsChecked","store","customerInfo","service","sendInfo","values","step_number","quoteProgress","type","payload","divisor","history","push","errors","setSubmitting","isSubmitting","map","s","i","e","target","value"],"mappings":"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","sourcesContent":["import { connect, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport mapStoreToProps from '../../../redux/mapStoreToProps';\nimport { useEffect, useState } from 'react';\nimport NextButton from '../../CustomComponents/NextButton';\n\nimport Excavating from '../../../a_assets/images/Uncropped_Excavating.png';\nimport Snowblower from '../../../a_assets/images/Uncropped_Snowblower.png';\n\nfunction TypeService(props) {\n\n  let dispatch = useDispatch();\n\n  const services = ['Snow Removal', 'Excavating'];\n  const pics = [Snowblower, Excavating];\n  const [isChecked, setIsChecked] = useState('');\n\n  useEffect(() => {\n    setIsChecked(props.store.customerInfo.service);\n  }, [props.store.customerInfo.service]);\n\n  const sendInfo = (values) => {\n\n    let step_number = props.store.quoteProgress.step_number;\n\n    dispatch({\n      type: 'UPDATE_CUSTOMER',\n      payload: values\n    });\n    dispatch({\n      type: 'QUOTE_PROGRESS',\n      payload: { divisor: 9, step_number: step_number + 1 }\n    });\n    props.history.push('./sub-service');\n  };\n\n  return (\n    <div className=\"quoteStep_container\">\n      <h2 className='quoteStep_container_title'>What type of service would you like?</h2>\n      <Formik\n        initialValues={{ service: '' }}\n        validate={values => {\n          const errors = {};\n\n          if (props.store.customerInfo.service) {\n            return errors;\n          }\n          if (!values.service) {\n            errors.service = 'Please pick an option';\n          }\n          return errors;\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          if (props.store.customerInfo.service) {\n            sendInfo({ service: props.store.customerInfo.service }, 'forward');\n          } else {\n            sendInfo(values);\n          }\n          setSubmitting(false);\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <div className='quoteStep_optionsContainer' role=\"group\" aria-labelledby=\"my-radio-group\">\n              {services.map((s, i) => (\n                <div className='quoteStep_options'>\n                  <label key={s}>\n                    <p className='quoteStep_label'>{s}</p>\n                    <Field\n                      type=\"radio\"\n                      name=\"service\"\n                      value={s}\n                      checked={isChecked === s}\n                      onClick={e => setIsChecked(e.target.value)}\n                    />\n                    <img src={pics[i]} alt={s} className='quoteStep_label_img' />\n                  </label>\n                </div>\n              ))}\n            </div>\n            <ErrorMessage name=\"service\" component=\"div\" />\n            <div className='quoteStep_nextBtn_container'>\n              <NextButton disabled={isSubmitting} />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default connect(mapStoreToProps)(withRouter(TypeService));"]},"metadata":{},"sourceType":"module"}