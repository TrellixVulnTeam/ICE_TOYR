{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jman/Developer/ice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchCustomerSaga),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(addCustomerSaga),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(customerSaga);import{takeLatest}from\"redux-saga/effects\";import axios from\"axios\";function fetchCustomerSaga(){return _regeneratorRuntime.wrap(function fetchCustomerSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:'GET',url:'/api/customer'});case 2:case\"end\":return _context.stop();}}},_marked);}// function* addCustomerSaga(action) {\n//   yield axios({\n//     method: 'POST',\n//     url: '/api/customer',\n//     data: action.payload\n//   });\n// }\n// Leads to nelify function\nfunction addCustomerSaga(action){return _regeneratorRuntime.wrap(function addCustomerSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('adding a customer, with action.payload',action.payload);_context2.next=3;return fetch('/.netlify/functions/addCustomer',{body:JSON.stringify(action.payload),method:'POST'}).then(function(response){return response.json();}).catch(function(error){console.log('API error',error);});case 3:case\"end\":return _context2.stop();}}},_marked2);}function customerSaga(){return _regeneratorRuntime.wrap(function customerSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeLatest('ADD_CUSTOMER',addCustomerSaga);case 2:_context3.next=4;return takeLatest('FETCH_CUSTOMER',fetchCustomerSaga);case 4:case\"end\":return _context3.stop();}}},_marked3);}export default customerSaga;","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/redux/sagas/customer.saga.js"],"names":["fetchCustomerSaga","addCustomerSaga","customerSaga","takeLatest","axios","method","url","action","console","log","payload","fetch","body","JSON","stringify","then","response","json","catch","error"],"mappings":"yLAGUA,iB,iDAqBAC,e,iDAcAC,Y,EAtCV,OAASC,UAAT,KAA2B,oBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAAUJ,CAAAA,iBAAV,6IAEE,MAAMI,CAAAA,KAAK,CAAC,CACVC,MAAM,CAAE,KADE,CAEVC,GAAG,CAAE,eAFK,CAAD,CAAX,CAFF,sDAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,QAAUL,CAAAA,eAAV,CAA0BM,MAA1B,6HACEC,OAAO,CAACC,GAAR,CAAY,wCAAZ,CAAsDF,MAAM,CAACG,OAA7D,EADF,iBAGE,MAAMC,CAAAA,KAAK,CAAC,iCAAD,CAAoC,CAC7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,MAAM,CAACG,OAAtB,CADuC,CAE7CL,MAAM,CAAE,MAFqC,CAApC,CAAL,CAGHU,IAHG,CAGE,SAAAC,QAAQ,CAAI,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CALK,EAKHC,KALG,CAKG,SAACC,KAAD,CAAW,CAClBX,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBU,KAAzB,EACD,CAPK,CAAN,CAHF,wDAcA,QAAUjB,CAAAA,YAAV,4IACE,MAAMC,CAAAA,UAAU,CAAC,cAAD,CAAiBF,eAAjB,CAAhB,CADF,wBAEE,MAAME,CAAAA,UAAU,CAAC,gBAAD,CAAmBH,iBAAnB,CAAhB,CAFF,wDAKA,cAAeE,CAAAA,YAAf","sourcesContent":["import { takeLatest } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction* fetchCustomerSaga() {\n\n  yield axios({\n    method: 'GET',\n    url: '/api/customer',\n  });\n  // yield put({\n  //   type: \"SET_CUSTOMER\",\n  //   payload: response.data,\n  // });\n}\n\n// function* addCustomerSaga(action) {\n//   yield axios({\n//     method: 'POST',\n//     url: '/api/customer',\n//     data: action.payload\n//   });\n// }\n\n// Leads to nelify function\nfunction* addCustomerSaga(action) {\n  console.log('adding a customer, with action.payload', action.payload);\n\n  yield fetch('/.netlify/functions/addCustomer', {\n    body: JSON.stringify(action.payload),\n    method: 'POST'\n  }).then(response => {\n    return response.json()\n  }).catch((error) => {\n    console.log('API error', error)\n  })\n}\n\n\nfunction* customerSaga() {\n  yield takeLatest('ADD_CUSTOMER', addCustomerSaga);\n  yield takeLatest('FETCH_CUSTOMER', fetchCustomerSaga);\n}\n\nexport default customerSaga;\n"]},"metadata":{},"sourceType":"module"}