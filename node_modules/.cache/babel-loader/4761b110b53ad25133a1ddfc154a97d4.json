{"ast":null,"code":"import { takeLatest } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction* fetchCustomerSaga() {\n  yield axios({\n    method: 'GET',\n    url: '/api/customer'\n  }); // yield put({\n  //   type: \"SET_CUSTOMER\",\n  //   payload: response.data,\n  // });\n}\n\nfunction* addCustomerSaga(action) {\n  yield axios({\n    method: 'POST',\n    url: '/api/customer',\n    data: action.payload\n  });\n} // Leads to nelify function\n// function* addCustomerSaga(action) {\n//   console.log('adding a customer, with action.payload', action.payload);\n//   return fetch('/.netlify/functions/addCustomer', {\n//     body: JSON.stringify(action.payload),\n//     method: 'POST'\n//   }).then(response => {\n//     return response.json()\n//   }).catch((error) => {\n//     console.log('API error', error)\n//   })\n// }\n\n\nrouter.post('/', (req, res) => {\n  console.log('in my post with req.body', req.body);\n  axios({\n    method: 'POST',\n    url: \"https://staging.zuperpro.com/api/customers\",\n    headers: {\n      \"x-api-key\": process.env.ZUPERPRO\n    },\n    data: req.body\n  }).then(() => {\n    console.log('got a response from my POST', res);\n    res.sendStatus(201);\n  }).catch(error => {\n    console.log('error in POSTing', error);\n    res.sendStatus(500);\n  });\n});\n\nfunction* customerSaga() {\n  yield takeLatest('ADD_CUSTOMER', addCustomerSaga);\n  yield takeLatest('FETCH_CUSTOMER', fetchCustomerSaga);\n}\n\nexport default customerSaga;","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/redux/sagas/customer.saga.js"],"names":["takeLatest","axios","fetchCustomerSaga","method","url","addCustomerSaga","action","data","payload","router","post","req","res","console","log","body","headers","process","env","ZUPERPRO","then","sendStatus","catch","error","customerSaga"],"mappings":"AAAA,SAASA,UAAT,QAA2B,oBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,UAAUC,iBAAV,GAA8B;AAE5B,QAAMD,KAAK,CAAC;AACVE,IAAAA,MAAM,EAAE,KADE;AAEVC,IAAAA,GAAG,EAAE;AAFK,GAAD,CAAX,CAF4B,CAM5B;AACA;AACA;AACA;AACD;;AAED,UAAUC,eAAV,CAA0BC,MAA1B,EAAkC;AAChC,QAAML,KAAK,CAAC;AACVE,IAAAA,MAAM,EAAE,MADE;AAEVC,IAAAA,GAAG,EAAE,eAFK;AAGVG,IAAAA,IAAI,EAAED,MAAM,CAACE;AAHH,GAAD,CAAX;AAKD,C,CAED;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAC,MAAM,CAACC,IAAP,CAAY,GAAZ,EAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCH,GAAG,CAACI,IAA5C;AACAd,EAAAA,KAAK,CAAC;AACJE,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,GAAG,EAAE,4CAFD;AAGJY,IAAAA,OAAO,EAAE;AAAE,mBAAaC,OAAO,CAACC,GAAR,CAAYC;AAA3B,KAHL;AAIJZ,IAAAA,IAAI,EAAEI,GAAG,CAACI;AAJN,GAAD,CAAL,CAMGK,IANH,CAMQ,MAAM;AACVP,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAA3C;AACAA,IAAAA,GAAG,CAACS,UAAJ,CAAe,GAAf;AACD,GATH,EAUGC,KAVH,CAUSC,KAAK,IAAI;AACdV,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCS,KAAhC;AACAX,IAAAA,GAAG,CAACS,UAAJ,CAAe,GAAf;AACD,GAbH;AAcD,CAhBD;;AAoBA,UAAUG,YAAV,GAAyB;AACvB,QAAMxB,UAAU,CAAC,cAAD,EAAiBK,eAAjB,CAAhB;AACA,QAAML,UAAU,CAAC,gBAAD,EAAmBE,iBAAnB,CAAhB;AACD;;AAED,eAAesB,YAAf","sourcesContent":["import { takeLatest } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction* fetchCustomerSaga() {\n\n  yield axios({\n    method: 'GET',\n    url: '/api/customer',\n  });\n  // yield put({\n  //   type: \"SET_CUSTOMER\",\n  //   payload: response.data,\n  // });\n}\n\nfunction* addCustomerSaga(action) {\n  yield axios({\n    method: 'POST',\n    url: '/api/customer',\n    data: action.payload\n  });\n}\n\n// Leads to nelify function\n// function* addCustomerSaga(action) {\n//   console.log('adding a customer, with action.payload', action.payload);\n\n//   return fetch('/.netlify/functions/addCustomer', {\n//     body: JSON.stringify(action.payload),\n//     method: 'POST'\n//   }).then(response => {\n//     return response.json()\n//   }).catch((error) => {\n//     console.log('API error', error)\n//   })\n// }\n\n\nrouter.post('/', (req, res) => {\n  console.log('in my post with req.body', req.body);\n  axios({\n    method: 'POST',\n    url: \"https://staging.zuperpro.com/api/customers\",\n    headers: { \"x-api-key\": process.env.ZUPERPRO },\n    data: req.body\n  })\n    .then(() => {\n      console.log('got a response from my POST', res);\n      res.sendStatus(201);\n    })\n    .catch(error => {\n      console.log('error in POSTing', error);\n      res.sendStatus(500);\n    });\n});\n\n\n\nfunction* customerSaga() {\n  yield takeLatest('ADD_CUSTOMER', addCustomerSaga);\n  yield takeLatest('FETCH_CUSTOMER', fetchCustomerSaga);\n}\n\nexport default customerSaga;\n"]},"metadata":{},"sourceType":"module"}