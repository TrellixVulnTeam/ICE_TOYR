{"ast":null,"code":"import{connect,useDispatch}from'react-redux';import{withRouter}from'react-router-dom';import mapStoreToProps from'../../../redux/mapStoreToProps';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Confirm(props){var dispatch=useDispatch();var data=props.store.customerInfo;var sendInfo=function sendInfo(){var step_number=props.store.quoteProgress.step_number;var street_and_apt=data.street;if(data.apartment!==''){street_and_apt=data.street+' Apt. '+data.apartment;}var customer={customer:{customer_first_name:data.name,customer_last_name:\"\",customer_email:data.email,customer_category:\"5f1a48d11289d5e82e798167\",customer_address:{street:street_and_apt,city:data.city,state:data.state,zip_code:data.zipcode},custom_fields:[{label:'Back to Black',value:data.back_to_black},{label:'Driveway',value:data.driveway},{label:'Location to Shovel',value:data.sidewalk},{label:'Service',value:data.service},{label:'Sub Service',value:data.subServices}]}};// dispatch({\n//   type: 'ADD_CUSTOMER',\n//   payload: customer\n// });\naxios({data:JSON.stringify({\"customer\":{\"customer_first_name\":\"John\",\"customer_last_name\":\"Doe\",\"customer_email\":\"johndoe@zuper.com\",\"customer_category\":\"5f1a48d11289d5e82e798167\"}}),method:'POST',url:'/.netlify/functions/addCustomer'}).then(function(response){console.log('response.json();',response.json());response.json();});dispatch({type:'QUOTE_PROGRESS',payload:{divisor:9,step_number:step_number+1}});dispatch({type:'UPDATE_CUSTOMER',payload:{apartment:\"\",back_to_black:\"\",city:\"\",driveway:\"\",email:\"\",name:\"\",service:\"\",sidewalk:\"\",state:\"\",street:\"\",subServices:\"\",zipcode:\"\"}});props.history.push('./thank-you');};return/*#__PURE__*/_jsxs(\"div\",{className:\"quoteStep_container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"quoteStep_container_title\",children:\"Does this look right to you?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote_confirm_container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Name and Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote_confirm_item_container\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",/*#__PURE__*/_jsx(\"span\",{children:data.name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Street: \",/*#__PURE__*/_jsx(\"span\",{children:data.street})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Apartment: \",/*#__PURE__*/_jsx(\"span\",{children:data.apartment===undefined?'Not applicable':data.apartment})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",/*#__PURE__*/_jsx(\"span\",{children:data.city})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"State: \",/*#__PURE__*/_jsx(\"span\",{children:data.state})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Zipcode: \",/*#__PURE__*/_jsx(\"span\",{children:data.zipcode})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Services you requested\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote_confirm_item_container\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Type service: \",/*#__PURE__*/_jsx(\"span\",{children:data.service})]}),data.service===\"Excavating\"?'':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Type of driveway: \",/*#__PURE__*/_jsx(\"span\",{children:data.driveway})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Number of locations to shovel to: \",/*#__PURE__*/_jsx(\"span\",{children:data.sidewalk})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Back to Black service: \",/*#__PURE__*/_jsx(\"span\",{children:data.back_to_black})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_nextBtn_container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn primary_btn\",onClick:sendInfo,children:\"This looks correct!\"})})]});}export default connect(mapStoreToProps)(withRouter(Confirm));","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/components/Quote/9Confirm/9Confirm.js"],"names":["connect","useDispatch","withRouter","mapStoreToProps","axios","Confirm","props","dispatch","data","store","customerInfo","sendInfo","step_number","quoteProgress","street_and_apt","street","apartment","customer","customer_first_name","name","customer_last_name","customer_email","email","customer_category","customer_address","city","state","zip_code","zipcode","custom_fields","label","value","back_to_black","driveway","sidewalk","service","subServices","JSON","stringify","method","url","then","response","console","log","json","type","payload","divisor","history","push","undefined"],"mappings":"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","sourcesContent":["import { connect, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport mapStoreToProps from '../../../redux/mapStoreToProps';\nimport axios from 'axios';\n\nfunction Confirm(props) {\n\n  const dispatch = useDispatch();\n  const data = props.store.customerInfo;\n\n  const sendInfo = () => {\n\n    let step_number = props.store.quoteProgress.step_number;\n    let street_and_apt = data.street;\n    if (data.apartment !== '') {\n      street_and_apt = data.street + ' Apt. ' + data.apartment;\n    }\n\n    let customer = {\n      customer: {\n        customer_first_name: data.name,\n        customer_last_name: \"\",\n        customer_email: data.email,\n        customer_category: \"5f1a48d11289d5e82e798167\",\n        customer_address: {\n          street: street_and_apt,\n          city: data.city,\n          state: data.state,\n          zip_code: data.zipcode,\n        },\n        custom_fields: [\n          {\n            label: 'Back to Black',\n            value: data.back_to_black\n          },\n          {\n            label: 'Driveway',\n            value: data.driveway\n          },\n          {\n            label: 'Location to Shovel',\n            value: data.sidewalk\n          },\n          {\n            label: 'Service',\n            value: data.service\n          },\n          {\n            label: 'Sub Service',\n            value: data.subServices\n          },\n        ],\n      },\n    };\n    // dispatch({\n    //   type: 'ADD_CUSTOMER',\n    //   payload: customer\n    // });\n\n    axios({\n      data: JSON.stringify({\n        \"customer\": {\n          \"customer_first_name\": \"John\",\n          \"customer_last_name\": \"Doe\",\n          \"customer_email\": \"johndoe@zuper.com\",\n          \"customer_category\": \"5f1a48d11289d5e82e798167\"\n        }\n      }),\n      method: 'POST',\n      url: '/.netlify/functions/addCustomer',\n    }).then(response => {\n      console.log('response.json();', response.json());\n      response.json();\n    });\n\n    dispatch({\n      type: 'QUOTE_PROGRESS',\n      payload: { divisor: 9, step_number: step_number + 1 }\n    });\n    dispatch({\n      type: 'UPDATE_CUSTOMER',\n      payload: {\n        apartment: \"\",\n        back_to_black: \"\",\n        city: \"\",\n        driveway: \"\",\n        email: \"\",\n        name: \"\",\n        service: \"\",\n        sidewalk: \"\",\n        state: \"\",\n        street: \"\",\n        subServices: \"\",\n        zipcode: \"\",\n      }\n    });\n    props.history.push('./thank-you');\n  };\n\n  return (\n    <div className='quoteStep_container'>\n\n      <h2 className='quoteStep_container_title'>Does this look right to you?</h2>\n      <div className='quote_confirm_container'>\n        <h3>Name and Address</h3>\n        <div className='quote_confirm_item_container'>\n          <p>Name: <span>{data.name}</span></p>\n          <p>Street: <span>{data.street}</span></p>\n          <p>Apartment: <span>{data.apartment === undefined ? 'Not applicable' : data.apartment}</span></p>\n          <p>City: <span>{data.city}</span></p>\n          <p>State: <span>{data.state}</span></p>\n          <p>Zipcode: <span>{data.zipcode}</span></p>\n        </div>\n        <h3>Services you requested</h3>\n        <div className='quote_confirm_item_container'>\n          <p>Type service: <span>{data.service}</span></p>\n          {data.service === \"Excavating\" ? '' : <>\n            <p>Type of driveway: <span>{data.driveway}</span></p>\n            <p>Number of locations to shovel to: <span>{data.sidewalk}</span></p>\n            <p>Back to Black service: <span>{data.back_to_black}</span></p>\n          </>}\n        </div>\n      </div>\n      <div className='quoteStep_nextBtn_container'>\n        <button className='btn primary_btn' onClick={sendInfo}>This looks correct!</button>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(mapStoreToProps)(withRouter(Confirm));"]},"metadata":{},"sourceType":"module"}