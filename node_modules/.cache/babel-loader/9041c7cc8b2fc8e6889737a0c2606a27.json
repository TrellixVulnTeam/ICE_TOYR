{"ast":null,"code":"import { takeLatest } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction* fetchCustomerSaga() {\n  yield axios({\n    method: 'GET',\n    url: '/api/customer'\n  }); // yield put({\n  //   type: \"SET_CUSTOMER\",\n  //   payload: response.data,\n  // });\n} // function* addCustomerSaga(action) {\n//   yield axios({\n//     method: 'POST',\n//     url: '/api/customer',\n//     data: action.payload\n//   });\n// }\n// Leads to nelify function\n\n\nfunction* addCustomerSaga(action) {\n  console.log('adding a customer, with action.payload', action.payload);\n  return fetch('/.netlify/functions/addCustomer', {\n    body: JSON.stringify(action.payload),\n    method: 'POST'\n  }).then(response => {\n    return response.json();\n  }).catch(error => {\n    console.log('API error', error);\n  });\n}\n\nfunction* customerSaga() {\n  yield takeLatest('ADD_CUSTOMER', addCustomerSaga);\n  yield takeLatest('FETCH_CUSTOMER', fetchCustomerSaga);\n}\n\nexport default customerSaga;","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/redux/sagas/customer.saga.js"],"names":["takeLatest","axios","fetchCustomerSaga","method","url","addCustomerSaga","action","console","log","payload","fetch","body","JSON","stringify","then","response","json","catch","error","customerSaga"],"mappings":"AAAA,SAASA,UAAT,QAA2B,oBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,UAAUC,iBAAV,GAA8B;AAE5B,QAAMD,KAAK,CAAC;AACVE,IAAAA,MAAM,EAAE,KADE;AAEVC,IAAAA,GAAG,EAAE;AAFK,GAAD,CAAX,CAF4B,CAM5B;AACA;AACA;AACA;AACD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA,UAAUC,eAAV,CAA0BC,MAA1B,EAAkC;AAChCC,EAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDF,MAAM,CAACG,OAA7D;AAEA,SAAOC,KAAK,CAAC,iCAAD,EAAoC;AAC9CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,MAAM,CAACG,OAAtB,CADwC;AAE9CN,IAAAA,MAAM,EAAE;AAFsC,GAApC,CAAL,CAGJW,IAHI,CAGCC,QAAQ,IAAI;AAClB,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GALM,EAKJC,KALI,CAKGC,KAAD,IAAW;AAClBX,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBU,KAAzB;AACD,GAPM,CAAP;AAQD;;AAGD,UAAUC,YAAV,GAAyB;AACvB,QAAMnB,UAAU,CAAC,cAAD,EAAiBK,eAAjB,CAAhB;AACA,QAAML,UAAU,CAAC,gBAAD,EAAmBE,iBAAnB,CAAhB;AACD;;AAED,eAAeiB,YAAf","sourcesContent":["import { takeLatest } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction* fetchCustomerSaga() {\n\n  yield axios({\n    method: 'GET',\n    url: '/api/customer',\n  });\n  // yield put({\n  //   type: \"SET_CUSTOMER\",\n  //   payload: response.data,\n  // });\n}\n\n// function* addCustomerSaga(action) {\n//   yield axios({\n//     method: 'POST',\n//     url: '/api/customer',\n//     data: action.payload\n//   });\n// }\n\n// Leads to nelify function\nfunction* addCustomerSaga(action) {\n  console.log('adding a customer, with action.payload', action.payload);\n\n  return fetch('/.netlify/functions/addCustomer', {\n    body: JSON.stringify(action.payload),\n    method: 'POST'\n  }).then(response => {\n    return response.json()\n  }).catch((error) => {\n    console.log('API error', error)\n  })\n}\n\n\nfunction* customerSaga() {\n  yield takeLatest('ADD_CUSTOMER', addCustomerSaga);\n  yield takeLatest('FETCH_CUSTOMER', fetchCustomerSaga);\n}\n\nexport default customerSaga;\n"]},"metadata":{},"sourceType":"module"}