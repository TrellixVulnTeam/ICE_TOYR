{"ast":null,"code":"import _slicedToArray from\"/Users/jman/Developer/ice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{connect,useDispatch}from'react-redux';import{withRouter}from'react-router-dom';import{Formik,Field,Form,ErrorMessage}from'formik';import mapStoreToProps from'../../../redux/mapStoreToProps';import{useEffect,useState}from'react';import NextButton from'../../CustomComponents/NextButton';import Residential from'../../../a_assets/images/residential_plowing.png';import Commercial from'../../../a_assets/images/commercial_plowing.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SubService(props){var dispatch=useDispatch();var subServices=['Residential','Commercial'];var pics=[Residential,Commercial];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),isChecked=_useState2[0],setIsChecked=_useState2[1];useEffect(function(){setIsChecked(props.store.customerInfo.subServices);},[props.store.customerInfo.subServices]);var sendInfo=function sendInfo(values){var step_number=props.store.quoteProgress.step_number;dispatch({type:'UPDATE_CUSTOMER',payload:values});dispatch({type:'QUOTE_PROGRESS',payload:{divisor:9,step_number:step_number+1}});props.history.push('./name');};return/*#__PURE__*/_jsxs(\"div\",{className:\"quoteStep_container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Is this for residential or commercial?\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{subServices:''},validate:function validate(values){var errors={};if(props.store.customerInfo.subServices){return errors;}if(!values.subServices){errors.subServices='Please pick an option';}return errors;},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;if(props.store.customerInfo.subServices){sendInfo({service:props.store.customerInfo.subServices},'forward');}else{sendInfo(values);}setSubmitting(false);},children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_optionsContainer\",role:\"group\",\"aria-labelledby\":\"my-radio-group\",children:subServices.map(function(s,i){return/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_options\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"quoteStep_label\",children:s}),/*#__PURE__*/_jsx(Field,{type:\"radio\",name:\"subServices\",value:s,checked:isChecked===s,onClick:function onClick(e){return setIsChecked(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{src:pics[i],alt:s,className:\"quoteStep_label_img\"})]})},s);})}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"subServices\",component:\"div\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quoteStep_nextBtn_container\",children:/*#__PURE__*/_jsx(NextButton,{disabled:isSubmitting})})]});}})]});}export default connect(mapStoreToProps)(withRouter(SubService));","map":{"version":3,"sources":["/Users/jman/Developer/ice/src/components/Quote/2SubType/2SubType.js"],"names":["connect","useDispatch","withRouter","Formik","Field","Form","ErrorMessage","mapStoreToProps","useEffect","useState","NextButton","Residential","Commercial","SubService","props","dispatch","subServices","pics","isChecked","setIsChecked","store","customerInfo","sendInfo","values","step_number","quoteProgress","type","payload","divisor","history","push","errors","setSubmitting","service","isSubmitting","map","s","i","e","target","value"],"mappings":"gJAAA,OAASA,OAAT,CAAkBC,WAAlB,KAAqC,aAArC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,IAAxB,CAA8BC,YAA9B,KAAkD,QAAlD,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,UAAP,KAAuB,mCAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,kDAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,iDAAvB,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CAEzB,GAAIC,CAAAA,QAAQ,CAAGd,WAAW,EAA1B,CAEA,GAAMe,CAAAA,WAAW,CAAG,CAAC,aAAD,CAAgB,YAAhB,CAApB,CACA,GAAMC,CAAAA,IAAI,CAAG,CAACN,WAAD,CAAcC,UAAd,CAAb,CAEA,cAAkCH,QAAQ,CAAC,EAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eAEAX,SAAS,CAAC,UAAM,CACdW,YAAY,CAACL,KAAK,CAACM,KAAN,CAAYC,YAAZ,CAAyBL,WAA1B,CAAZ,CACD,CAFQ,CAEN,CAACF,KAAK,CAACM,KAAN,CAAYC,YAAZ,CAAyBL,WAA1B,CAFM,CAAT,CAIA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,CAAY,CAC3B,GAAIC,CAAAA,WAAW,CAAGV,KAAK,CAACM,KAAN,CAAYK,aAAZ,CAA0BD,WAA5C,CACAT,QAAQ,CAAC,CACPW,IAAI,CAAE,iBADC,CAEPC,OAAO,CAAEJ,MAFF,CAAD,CAAR,CAIAR,QAAQ,CAAC,CACPW,IAAI,CAAE,gBADC,CAEPC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAX,CAAcJ,WAAW,CAAEA,WAAW,CAAG,CAAzC,CAFF,CAAD,CAAR,CAIAV,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EACD,CAXD,CAcA,mBACE,aAAK,SAAS,CAAC,qBAAf,wBAEE,8DAFF,cAIE,KAAC,MAAD,EACE,aAAa,CAAE,CAAEd,WAAW,CAAE,EAAf,CADjB,CAEE,QAAQ,CAAE,kBAAAO,MAAM,CAAI,CAClB,GAAMQ,CAAAA,MAAM,CAAG,EAAf,CAEA,GAAIjB,KAAK,CAACM,KAAN,CAAYC,YAAZ,CAAyBL,WAA7B,CAA0C,CACxC,MAAOe,CAAAA,MAAP,CACD,CACD,GAAI,CAACR,MAAM,CAACP,WAAZ,CAAyB,CACvBe,MAAM,CAACf,WAAP,CAAqB,uBAArB,CACD,CACD,MAAOe,CAAAA,MAAP,CACD,CAZH,CAaE,QAAQ,CAAE,kBAACR,MAAD,MAA+B,IAApBS,CAAAA,aAAoB,MAApBA,aAAoB,CACvC,GAAIlB,KAAK,CAACM,KAAN,CAAYC,YAAZ,CAAyBL,WAA7B,CAA0C,CACxCM,QAAQ,CAAC,CAAEW,OAAO,CAAEnB,KAAK,CAACM,KAAN,CAAYC,YAAZ,CAAyBL,WAApC,CAAD,CAAoD,SAApD,CAAR,CACD,CAFD,IAEO,CACLM,QAAQ,CAACC,MAAD,CAAR,CACD,CACDS,aAAa,CAAC,KAAD,CAAb,CACD,CApBH,UAsBG,4BAAGE,CAAAA,YAAH,OAAGA,YAAH,oBACC,MAAC,IAAD,yBACE,YAAK,SAAS,CAAC,4BAAf,CAA4C,IAAI,CAAC,OAAjD,CAAyD,kBAAgB,gBAAzE,UACGlB,WAAW,CAACmB,GAAZ,CAAgB,SAACC,CAAD,CAAIC,CAAJ,qBACf,YAAa,SAAS,CAAC,mBAAvB,uBACE,sCACE,UAAG,SAAS,CAAC,iBAAb,UAAgCD,CAAhC,EADF,cAEE,KAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,aAFP,CAGE,KAAK,CAAEA,CAHT,CAIE,OAAO,CAAElB,SAAS,GAAKkB,CAJzB,CAKE,OAAO,CAAE,iBAAAE,CAAC,QAAInB,CAAAA,YAAY,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EALZ,EAFF,cASE,YAAK,GAAG,CAAEvB,IAAI,CAACoB,CAAD,CAAd,CAAmB,GAAG,CAAED,CAAxB,CAA2B,SAAS,CAAC,qBAArC,EATF,GADF,EAAUA,CAAV,CADe,EAAhB,CADH,EADF,cAkBE,KAAC,YAAD,EAAc,IAAI,CAAC,aAAnB,CAAiC,SAAS,CAAC,KAA3C,EAlBF,cAmBE,YAAK,SAAS,CAAC,6BAAf,uBACE,KAAC,UAAD,EAAY,QAAQ,CAAEF,YAAtB,EADF,EAnBF,GADD,EAtBH,EAJF,GADF,CAuDD,CAED,cAAelC,CAAAA,OAAO,CAACO,eAAD,CAAP,CAAyBL,UAAU,CAACW,UAAD,CAAnC,CAAf","sourcesContent":["import { connect, useDispatch } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport mapStoreToProps from '../../../redux/mapStoreToProps';\nimport { useEffect, useState } from 'react';\nimport NextButton from '../../CustomComponents/NextButton';\nimport Residential from '../../../a_assets/images/residential_plowing.png';\nimport Commercial from '../../../a_assets/images/commercial_plowing.png';\n\nfunction SubService(props) {\n\n  let dispatch = useDispatch();\n\n  const subServices = ['Residential', 'Commercial'];\n  const pics = [Residential, Commercial];\n\n  const [isChecked, setIsChecked] = useState('');\n\n  useEffect(() => {\n    setIsChecked(props.store.customerInfo.subServices);\n  }, [props.store.customerInfo.subServices]);\n\n  const sendInfo = (values) => {\n    let step_number = props.store.quoteProgress.step_number;\n    dispatch({\n      type: 'UPDATE_CUSTOMER',\n      payload: values\n    });\n    dispatch({\n      type: 'QUOTE_PROGRESS',\n      payload: { divisor: 9, step_number: step_number + 1 }\n    });\n    props.history.push('./name');\n  };\n\n\n  return (\n    <div className='quoteStep_container'>\n\n      <h2>Is this for residential or commercial?</h2>\n\n      <Formik\n        initialValues={{ subServices: '' }}\n        validate={values => {\n          const errors = {};\n\n          if (props.store.customerInfo.subServices) {\n            return errors;\n          }\n          if (!values.subServices) {\n            errors.subServices = 'Please pick an option';\n          }\n          return errors;\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          if (props.store.customerInfo.subServices) {\n            sendInfo({ service: props.store.customerInfo.subServices }, 'forward');\n          } else {\n            sendInfo(values);\n          }\n          setSubmitting(false);\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <div className='quoteStep_optionsContainer' role=\"group\" aria-labelledby=\"my-radio-group\">\n              {subServices.map((s, i) => (\n                <div key={s} className='quoteStep_options'>\n                  <label>\n                    <p className='quoteStep_label'>{s}</p>\n                    <Field\n                      type=\"radio\"\n                      name=\"subServices\"\n                      value={s}\n                      checked={isChecked === s}\n                      onClick={e => setIsChecked(e.target.value)}\n                    />\n                    <img src={pics[i]} alt={s} className='quoteStep_label_img' />\n                  </label>\n                </div>\n              ))}\n            </div>\n            <ErrorMessage name=\"subServices\" component=\"div\" />\n            <div className='quoteStep_nextBtn_container'>\n              <NextButton disabled={isSubmitting} />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default connect(mapStoreToProps)(withRouter(SubService));"]},"metadata":{},"sourceType":"module"}